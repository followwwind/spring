<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"      
 "http://ibatis.apache.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wind.dao.UserDao">
	<insert id="addUser" parameterType="com.wind.entity.User">
		insert into user
		values(#{id},#{username},#{password},#{email})
	</insert>

	<select id="findUserByCondition" parameterType="java.util.HashMap"
		resultType="com.wind.entity.User">
		select * from user
		<trim prefix="where" prefixOverrides="AND|OR" suffixOverrides="AND|OR"> 
			<if test="id != null and id != ''">
				and id = #{id}
			</if>
			<if test="username != null and username != ''">
				and username = #{username}
			</if>
		</trim>
	</select>
	
	<delete id="deleteUser" parameterType="java.lang.String">
		delete user where id = #{id}
	</delete>
	
	<update id="updateUser" parameterType="com.wind.entity.User">
		<trim prefix="set" prefixOverrides="," suffixOverrides=","> 
			<if test="password != null and password != ''">
				password = #{password},
			</if>
			<if test="email != null and email != ''">
				email = #{email},
			</if>
		</trim>
	</update>
</mapper>